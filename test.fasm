Macro put char
  Store byte char At foobar:( ptrbar )
  ptrbar = ptrbar + 1
End Macro
Macro new
;  Restore foolen, ptrbar, foobar
  Virtual At 0
    foobar::
      rb foolen
  End Virtual
  ptrbar = 0
End Macro
Macro ret
  Local char
  foolen =: ptrbar
  Repeat foolen, offs:( 0 )
    Load char byte From foobar:( offs )
    display char
  End Repeat
End Macro

new
  put 'h'
  put 'e'
  put 'l'
  put 'l'
  put 'o'
  put 10
  put 'w'
  put 'o'
  put 'r'
  put 'l'
  put 'd'
  put 10
ret